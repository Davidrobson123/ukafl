{"ast":null,"code":"var _jsxFileName = \"/Users/davidrobson/Documents/ukafl/src/components/common/Main.js\";\nimport React, { Component } from 'react';\nimport '../../App.scss';\nimport products from '../../assets/image1.jpg';\nimport features from '../../assets/image2.jpg';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faShoppingBasket, faSortDown } from '@fortawesome/free-solid-svg-icons';\nexport default class Main extends Component {\n  constructor(props) {\n    super(props);\n\n    this.filterProducts = productFilter => {\n      let filteredProducts = this.state.products;\n      filteredProducts = filteredProducts.filter(product => {\n        let productName = product.name.toLowerCase();\n        return productName.indexOf(productFilter.toLowerCase()) !== -1;\n      });\n      this.setState({\n        filteredProducts: filteredProducts\n      });\n    };\n\n    this.handleChange = e => {\n      this.filterProducts(e.target.value);\n    };\n\n    this.handleClick = () => {\n      this.setState({\n        count: this.state.count + 1\n      });\n    };\n\n    this.generateOffer = deal => {\n      console.log(deal);\n\n      if (deal['size']['small'] > 0 || deal['size']['medium'] > 0 || deal['size']['large'] > 0) {\n        return React.createElement(\"div\", {\n          className: \"product\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"image\",\n          src: products,\n          alt: \"product\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"product-details\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"buy\",\n          onClick: this.handleClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \"Add to Basket\"), React.createElement(\"div\", {\n          className: \"product-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, deal.name), React.createElement(\"div\", {\n          className: \"product-brand\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Brand:\"), \" \", deal.brand), React.createElement(\"select\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          disabled: true,\n          selected: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \"Select size\"), deal['size']['small'] > 0 ? React.createElement(\"option\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, \"Small\") : null, deal['size']['medium'] > 0 ? React.createElement(\"option\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \"Medium\") : null, deal['size']['large'] > 0 ? React.createElement(\"option\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, \"Large\") : null), React.createElement(FontAwesomeIcon, {\n          icon: faSortDown,\n          className: \"select-drop\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"product-description\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, \"Description:\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }), \" \", deal.description), React.createElement(\"div\", {\n          className: \"product-id\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, \"Product ID:\"), \" \", deal.productid)));\n      }\n    };\n\n    this.state = {\n      products: [],\n      featuredProduct: '',\n      filteredProducts: [],\n      count: 0\n    };\n    this.createDeals = this.createDeals.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    let url = \"https://27gmrimn45.execute-api.eu-west-2.amazonaws.com/demos/leighton-demo-api?TableName=products\";\n    fetch(url, {\n      method: 'GET',\n      mode: 'cors',\n      headers: {\n        'x-api-key': 'zQo4PPqD862IwDIQRZub8gX4dqjA3aW2DDhI6UF4' //it can be iPhone or your any other attribute\n\n      }\n    }).then(response => response.json()).then(responseJson => {\n      let me = this;\n      responseJson.Items.map(function (item, i) {\n        if (item.productid === '0m8hjmd721') {\n          me.setState({\n            featuredProduct: item\n          });\n          responseJson.Items = responseJson.Items.filter(i => i.productid !== '0m8hjmd721');\n        }\n\n        return responseJson;\n      });\n      this.setState({\n        products: responseJson.Items,\n        filteredProducts: responseJson.Items\n      });\n    });\n  }\n\n  createDeals() {\n    return this.state.filteredProducts.map(this.generateOffer);\n  }\n\n  render() {\n    let featured = this.state.featuredProduct;\n    return React.createElement(\"div\", {\n      className: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"basket\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faShoppingBasket,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), \" \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Basket:\"), \" \", this.state.count), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"filter\",\n      onChange: this.handleChange,\n      placeholder: \"Search...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"featured-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Featured Product\", React.createElement(\"div\", {\n      className: \"product\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"image\",\n      src: features,\n      alt: \"product\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"product-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"buy\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Add to Basket\"), React.createElement(\"div\", {\n      className: \"product-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, featured.name), React.createElement(\"div\", {\n      className: \"product-brand\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Brand:\"), \" \", featured.brand), React.createElement(\"select\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Select size\"), featured && featured['size']['small'] > 0 ? React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Small\") : null, featured && featured['size']['medium'] > 0 ? React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Medium\") : null, featured && featured['size']['large'] > 0 ? React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Large\") : null), React.createElement(FontAwesomeIcon, {\n      icon: faSortDown,\n      className: \"select-drop\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"product-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Description:\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), \" \", featured.description), React.createElement(\"div\", {\n      className: \"product-id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Product ID:\"), \" \", featured.productid)))), this.createDeals());\n  }\n\n}","map":{"version":3,"sources":["/Users/davidrobson/Documents/ukafl/src/components/common/Main.js"],"names":["React","Component","products","features","FontAwesomeIcon","faShoppingBasket","faSortDown","Main","constructor","props","filterProducts","productFilter","filteredProducts","state","filter","product","productName","name","toLowerCase","indexOf","setState","handleChange","e","target","value","handleClick","count","generateOffer","deal","console","log","brand","description","productid","featuredProduct","createDeals","bind","componentDidMount","url","fetch","method","mode","headers","then","response","json","responseJson","me","Items","map","item","i","render","featured"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport '../../App.scss';\nimport products from '../../assets/image1.jpg';\nimport features from '../../assets/image2.jpg';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faShoppingBasket, faSortDown } from '@fortawesome/free-solid-svg-icons'\n\nexport default class Main extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      products: [],\n      featuredProduct: '',\n      filteredProducts: [],\n      count: 0\n    };\n\n    this.createDeals = this.createDeals.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    let url = \"https://27gmrimn45.execute-api.eu-west-2.amazonaws.com/demos/leighton-demo-api?TableName=products\";\n\n    fetch(url, {\n      method: 'GET',\n      mode: 'cors',\n      headers: {\n        'x-api-key': 'zQo4PPqD862IwDIQRZub8gX4dqjA3aW2DDhI6UF4', //it can be iPhone or your any other attribute\n      }\n    }).then(response => response.json())\n      .then(responseJson => {\n        let me = this;\n        responseJson.Items.map(function(item, i) {\n          if(item.productid === '0m8hjmd721') {\n            me.setState({\n                featuredProduct: item\n            });\n\n            responseJson.Items = responseJson.Items.filter(i => i.productid !== '0m8hjmd721')\n          }\n          return responseJson;\n        });\n        this.setState({\n          products: responseJson.Items,\n          filteredProducts: responseJson.Items\n        });\n      });\n  }\n\n  createDeals() {\n    return this.state.filteredProducts.map(this.generateOffer)\n  }\n\n  filterProducts = (productFilter) => {\n\n      let filteredProducts = this.state.products\n      filteredProducts = filteredProducts.filter((product) => {\n          let productName = product.name.toLowerCase()\n          return productName.indexOf(\n                  productFilter.toLowerCase()) !== -1\n      })\n      this.setState({\n          filteredProducts: filteredProducts\n      })\n  }\n\n  handleChange = (e) => {\n      this.filterProducts(e.target.value)\n  }\n\n  handleClick = () => {\n    this.setState({ count: this.state.count + 1 })\n  }\n\n  generateOffer = deal => {\n    console.log(deal);\n    if(deal['size']['small'] > 0 || deal['size']['medium'] > 0 || deal['size']['large'] > 0 ) {\n        return (\n            <div className=\"product\">\n              <img className=\"image\" src={products} alt=\"product\"/>\n              <div className=\"product-details\">\n                <div className=\"buy\" onClick={this.handleClick}>Add to Basket</div>\n                <div className=\"product-name\">{deal.name}</div>\n                <div className=\"product-brand\"><span>Brand:</span> {deal.brand}</div>\n                <select>\n                  <option disabled selected>Select size</option>\n                  {deal['size']['small'] > 0 ? <option>Small</option> : null}\n                  {deal['size']['medium'] > 0 ? <option>Medium</option> : null}\n                  {deal['size']['large'] > 0 ? <option>Large</option> : null}\n                </select>\n                <FontAwesomeIcon icon={faSortDown} className=\"select-drop\"/>\n                <div className=\"product-description\"><span>Description:</span><br /> {deal.description}</div>\n                <div className=\"product-id\"><span>Product ID:</span> {deal.productid}</div>\n              </div>\n            </div>\n        );\n     }\n  }\n\n  render() {\n\n    let featured = this.state.featuredProduct;\n\n    return (\n      <div className=\"main\">\n        <div className=\"basket\"><FontAwesomeIcon icon={faShoppingBasket} /> <span>Basket:</span> {this.state.count}</div>\n        <input type=\"text\" id=\"filter\"\n               onChange={this.handleChange} placeholder=\"Search...\"/>\n        <div className=\"featured-bar\">Featured Product\n\n        <div className=\"product\">\n          <img className=\"image\" src={features} alt=\"product\"/>\n          <div className=\"product-details\">\n            <div className=\"buy\" onClick={this.handleClick}>Add to Basket</div>\n            <div className=\"product-name\">{featured.name}</div>\n            <div className=\"product-brand\"><span>Brand:</span> {featured.brand}</div>\n            <select>\n              <option disabled selected>Select size</option>\n              {featured && featured['size']['small'] > 0 ? <option>Small</option> : null}\n              {featured && featured['size']['medium'] > 0 ? <option>Medium</option> : null}\n              {featured && featured['size']['large'] > 0 ? <option>Large</option> : null}\n            </select>\n            <FontAwesomeIcon icon={faSortDown} className=\"select-drop\"/>\n            <div className=\"product-description\"><span>Description:</span><br /> {featured.description}</div>\n            <div className=\"product-id\"><span>Product ID:</span> {featured.productid}</div>\n          </div>\n        </div>\n        </div>\n        {this.createDeals()}\n      </div>\n    )\n  };\n}"]},"metadata":{},"sourceType":"module"}